function CreateMain(title)
	local destroyIfExist = game.CoreGui:GetChildren()
	for _, child in pairs(destroyIfExist) do
		if child.Name == title then
			child:Destroy()
		end
	end
	
	local Rodus = Instance.new("ScreenGui")
	local Top = Instance.new("Frame")
	local Title = Instance.new("TextLabel")
	local Container = Instance.new("Frame")
	local UIListLayout = Instance.new("UIListLayout")
	local Minimize = Instance.new("TextButton")

	Rodus.Name = tostring(title)
	Rodus.Parent = game:WaitForChild("CoreGui")
	Rodus.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Top.Name = "Top"
	Top.Parent = Rodus
	Top.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Top.BackgroundTransparency = 0.5
	Top.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Top.BorderSizePixel = 4
	Top.Position = UDim2.new(0, 15, 0, 15)
	Top.Size = UDim2.new(0, 193, 0, 27)
	Top.Active = true
	Top.Draggable = false  -- Draggable property deprecated, so use manual drag below

	Title.Name = "Title"
	Title.Parent = Top
	Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Title.BackgroundTransparency = 0.35
	Title.BorderSizePixel = 0
	Title.Size = UDim2.new(0, 193, 0, 27)
	Title.Font = Enum.Font.JosefinSans
	Title.Text = " "..title
	Title.TextColor3 = Color3.fromRGB(0, 255, 0)
	Title.TextSize = 14
	Title.TextXAlignment = Enum.TextXAlignment.Left

	Container.Name = "Container"
	Container.Parent = Top
	Container.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	Container.BackgroundTransparency = 0.5
	Container.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Container.BorderSizePixel = 4
	Container.Position = UDim2.new(0, 0, 1.3, 0)
	Container.Size = UDim2.new(0, 193, 0, 24)

	UIListLayout.Parent = Container
	UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

	Minimize.Name = "Minimize"
	Minimize.Parent = Top
	Minimize.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Minimize.BackgroundTransparency = 1
	Minimize.Position = UDim2.new(0.9, 0, 0.18, 0)
	Minimize.Size = UDim2.new(0, 18, 0, 17)
	Minimize.Font = Enum.Font.SourceSans
	Minimize.Text = "-"
	Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
	Minimize.TextSize = 14

	local toggled = false
	Minimize.MouseButton1Down:Connect(function()
		toggled = not toggled
		Container.Visible = not toggled
		Minimize.Text = toggled and "+" or "-"
	end)

	game:GetService("UserInputService").InputBegan:Connect(function(input)
		if input.KeyCode == Enum.KeyCode.RightControl then
			Top.Visible = not Top.Visible
		end
	end)

	-- Drag implementation
	local UserInputService = game:GetService("UserInputService")
	local dragging = false
	local dragStart
	local startPos

	Top.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = Top.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	Top.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			if dragging then
				local delta = input.Position - dragStart
				Top.Position = UDim2.new(
					startPos.X.Scale,
					startPos.X.Offset + delta.X,
					startPos.Y.Scale,
					startPos.Y.Offset + delta.Y
				)
			end
		end
	end)

	-- The rest of your CreateTab and inner functions remain unchanged
	function CreateTab(text)
		local Tab = Instance.new("TextButton")
		local Arrow = Instance.new("TextLabel")
		Tab.Name = text
		Tab.Parent = Container
		Tab.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Tab.BackgroundTransparency = 1
		Tab.Size = UDim2.new(0, 193, 0, 24)
		Tab.Font = Enum.Font.JosefinSans
		Tab.Text = " "..text
		Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
		Tab.TextSize = 14
		Tab.TextXAlignment = Enum.TextXAlignment.Left

		Arrow.Name = "Arrow"
		Arrow.Parent = Tab
		Arrow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Arrow.BackgroundTransparency = 1
		Arrow.Position = UDim2.new(0.907, 0, 0, 0)
		Arrow.Size = UDim2.new(0, 18, 0, 21)
		Arrow.Font = Enum.Font.SourceSans
		Arrow.Text = ">>"
		Arrow.TextColor3 = Color3.fromRGB(255, 255, 255)
		Arrow.TextScaled = true
		Arrow.TextSize = 14
		Arrow.TextWrapped = true

		Container.Size = UDim2.new(0, UIListLayout.AbsoluteContentSize.X, 0, UIListLayout.AbsoluteContentSize.Y)

		local TabContainer = Instance.new("Frame")
		TabContainer.Name = "TabContainer"
		TabContainer.Parent = Tab
		TabContainer.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		TabContainer.BackgroundTransparency = 0.5
		TabContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
		TabContainer.BorderSizePixel = 4
		TabContainer.Position = UDim2.new(1.05, 0, 0, 0)
		TabContainer.Visible = false

		Tab.MouseButton1Down:Connect(function()
			if TabContainer.Visible == false then
				for _, v in pairs(Container:GetChildren()) do
					if v.Name == "TabContainer" then
						v.Visible = false
						v.Parent.TextColor3 = Color3.new(1, 1, 1)
						v.Parent.Arrow.TextColor3 = Color3.new(1, 1, 1)
					end
				end
				TabContainer.Visible = true
				Tab.TextColor3 = Color3.new(0, 1, 0)
				Tab.Arrow.TextColor3 = Color3.new(0, 1, 0)
			else
				TabContainer.Visible = false
				Tab.TextColor3 = Color3.new(1, 1, 1)
				Tab.Arrow.TextColor3 = Color3.new(1, 1, 1)
			end
		end)

		local UIListLayout2 = Instance.new("UIListLayout")
		UIListLayout2.Parent = TabContainer
		UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder

		-- You can add your other CreateButton, CreateToggle etc functions here if needed

		return TabContainer
	end

	return {
		ScreenGui = Rodus,
		CreateTab = CreateTab
	}
end
