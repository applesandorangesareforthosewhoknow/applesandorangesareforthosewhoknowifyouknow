local lib = {}

local uis = game:GetService("UserInputService")
local plr = game.Players.LocalPlayer

local g = {
    main_color = Color3.fromRGB(30, 30, 30),
    accent_color = Color3.fromRGB(60, 60, 60),
    text_color = Color3.fromRGB(255, 255, 255)
}

local s = Instance.new("ScreenGui", game.CoreGui)
s.Name = "CornageUI"

local main = Instance.new("Frame", s)
main.Size = UDim2.new(0, 500, 0, 300)
main.Position = UDim2.new(0.5, -250, 0.5, -150)
main.BackgroundColor3 = g.main_color
main.Active = true
main.Draggable = true
main.BorderSizePixel = 0

local tbar = Instance.new("Frame", main)
tbar.Size = UDim2.new(1, 0, 0, 30)
tbar.BackgroundColor3 = g.accent_color
tbar.BorderSizePixel = 0

local title = Instance.new("TextLabel", tbar)
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "Cornage UI"
title.TextColor3 = g.text_color
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20

local tbholder = Instance.new("Frame", main)
tbholder.Position = UDim2.new(0, 0, 0, 30)
tbholder.Size = UDim2.new(1, 0, 0, 40)
tbholder.BackgroundTransparency = 1

local content = Instance.new("Frame", main)
content.Position = UDim2.new(0, 0, 0, 70)
content.Size = UDim2.new(1, 0, 1, -70)
content.BackgroundTransparency = 1

local tabframes = {}

function lib:tab(name)
    local index = #tabframes + 1

    local tab_btn = Instance.new("TextButton", tbholder)
    tab_btn.Size = UDim2.new(0, 100, 1, 0)
    tab_btn.Position = UDim2.new(0, (index - 1) * 100, 0, 0)
    tab_btn.BackgroundColor3 = g.accent_color
    tab_btn.TextColor3 = g.text_color
    tab_btn.Text = name
    tab_btn.Font = Enum.Font.SourceSans
    tab_btn.TextSize = 18

    local tab_frame = Instance.new("Frame", content)
    tab_frame.Size = UDim2.new(1, 0, 1, 0)
    tab_frame.BackgroundTransparency = 1
    tab_frame.Visible = index == 1
    tabframes[index] = tab_frame

    tab_btn.MouseButton1Click:Connect(function()
        for _, f in pairs(tabframes) do f.Visible = false end
        tab_frame.Visible = true
    end)

    local tab_api = {}
    function tab_api:button(text, callback)
        local btn = Instance.new("TextButton", tab_frame)
        btn.Size = UDim2.new(0, 200, 0, 30)
        btn.Position = UDim2.new(0, 10, 0, #tab_frame:GetChildren() * 35)
        btn.BackgroundColor3 = g.accent_color
        btn.TextColor3 = g.text_color
        btn.Font = Enum.Font.SourceSans
        btn.TextSize = 16
        btn.Text = text
        btn.MouseButton1Click:Connect(callback)
    end

    return tab_api
end

return lib
